<head>
  <title>Avero Diagnostics</title>
</head>

<body ng-app="myApp">
</body>


<template name="layout">
  <body>
    <div class="container">
      {{> topNavbar}}
      {{> yield}}
    </div>
  </body>
</template>

<template name="topNavbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">NewLis</a>
            </div>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              {{#if isAdminUser}}
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Admin <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                      <li><a href="/admin">User Management</a></li>
                      <li><a href="/chat">Chat</a></li>
                      <li><a href="/caseList">Angular Case List</a></li>
                      <li class="divider"></li>
                      <li class="dropdown-header">Nav header</li>
                      <li><a href="#">Separated Link</a></li>
                      <li><a href="#">One more separated link</a></li>
                    </ul>
                </li>
              {{/if}}
  
            </ul>
            <ul class="nav navbar-nav navbar-right">
            {{> loginButtons }}
            </ul>
        </div>
    </div>
</template>

<template name="login">
	<img src="images/AveroLogo.png">
</template>

<template name="SP_template">
 SP Template
</template>

<template name="chat">
        <h2>Chat</h2>

        <form id="new-message">
          <input type="text" name="text" placeholder="Message..." />
        </form>

        <ul id="messages">
          {{#each messages}}
          <li>{{text}}</li>
          {{/each}}
        </ul>

        {{#if err}}
        <p class="alert alert-danger">{{err}}</p>
        {{/if}}
</template>

<template name="caseList">
  <div ng-controller="CaseController">
    <div class="row-fluid">
       <input type="search" ng-model="q" placeholder="Search cases..." />
    </div>

    <div class="row-fluid">
      <table class="table table-striped table-bordered table-condensed">
        <thead>
          <td><a ng-click = "changeSortOrder('caseNumber')">Case Number</a></td>
          <td><a ng-click = "changeSortOrder('name')">Patient Name</a></td>
          <td><a ng-click = "changeSortOrder('doctor')">Doctor</a></td>
          <td><a ng-click = "changeSortOrder('jarCount')">Vials</a></td>
          <td>Received Date</td>
        </thead>
        <tbody>
        <tr ng-repeat="case in cases | orderBy:orderString | filter:q | limitTo:50">
          <td><a href="/caseEdit/[[case.caseNumber]]"> [[case.caseNumber]]</a></td> 
          <td>[[ case.name]]</td> 
          <td>[[ case.doctor ]]</td>
          <td>[[ case.jarCount ]]</td>
          <td>[[ case.receivedDate ]]</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="row-fluid">
      <div ng-repeat="message in messages" class="alert alert-[[message.type]]">[[message.text]]</div>
    </div>
  </div>
</template>